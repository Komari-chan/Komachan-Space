{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./GenerateImageForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;function GenerateImageForm(){const[input,setInput]=useState('');const[image,setImage]=useState(null);const[message,setMessage]=useState('');const handleChange=e=>{setInput(e.target.value);};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post(\"\".concat(apiUrl,\"/generate-image\"),JSON.parse(input),{headers:{'Content-Type':'application/json'},responseType:'blob'});const url=URL.createObjectURL(new Blob([response.data]));setImage(url);}catch(error){console.error('Error generating image:',error);}};const handleTest=async()=>{try{const response=await axios.get(\"\".concat(apiUrl,\"/test\"));setMessage(response.data.message);}catch(error){console.error('Error testing Flask:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"generate-image-form\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:input,onChange:handleChange,rows:\"10\",cols:\"50\",placeholder:\"Enter JSON body here\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Generate Image\"})]}),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Generated\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTest,children:\"Test Flask\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});}export default GenerateImageForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","apiUrl","process","env","REACT_APP_API_URL","GenerateImageForm","input","setInput","image","setImage","message","setMessage","handleChange","e","target","value","handleSubmit","preventDefault","response","post","concat","JSON","parse","headers","responseType","url","URL","createObjectURL","Blob","data","error","console","handleTest","get","className","children","onSubmit","onChange","rows","cols","placeholder","type","src","alt","onClick"],"sources":["D:/komachan/komachan-react/src/components/GenerateImageForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './GenerateImageForm.css';\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nfunction GenerateImageForm() {\r\n  const [input, setInput] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(`${apiUrl}/generate-image`, JSON.parse(input), {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        responseType: 'blob'\r\n      });\r\n      const url = URL.createObjectURL(new Blob([response.data]));\r\n      setImage(url);\r\n    } catch (error) {\r\n      console.error('Error generating image:', error);\r\n    }\r\n  };\r\n\r\n  const handleTest = async () => {\r\n    try {\r\n      const response = await axios.get(`${apiUrl}/test`);\r\n      setMessage(response.data.message);\r\n    } catch (error) {\r\n      console.error('Error testing Flask:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"generate-image-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <textarea value={input} onChange={handleChange} rows=\"10\" cols=\"50\" placeholder=\"Enter JSON body here\"></textarea>\r\n        <button type=\"submit\">Generate Image</button>\r\n      </form>\r\n      {image && <img src={image} alt=\"Generated\" />}\r\n      <button onClick={handleTest}>Test Flask</button>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GenerateImageForm;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE5C,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAK,CAC1BN,QAAQ,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAChCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,IAAAC,MAAA,CAAInB,MAAM,oBAAmBoB,IAAI,CAACC,KAAK,CAAChB,KAAK,CAAC,CAAE,CAC/EiB,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,YAAY,CAAE,MAChB,CAAC,CAAC,CACF,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAACV,QAAQ,CAACW,IAAI,CAAC,CAAC,CAAC,CAC1DpB,QAAQ,CAACgB,GAAG,CAAC,CACf,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACqC,GAAG,IAAAb,MAAA,CAAInB,MAAM,SAAO,CAAC,CAClDU,UAAU,CAACO,QAAQ,CAACW,IAAI,CAACnB,OAAO,CAAC,CACnC,CAAE,MAAOoB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,mBACE9B,KAAA,QAAKkC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCnC,KAAA,SAAMoC,QAAQ,CAAEpB,YAAa,CAAAmB,QAAA,eAC3BrC,IAAA,aAAUiB,KAAK,CAAET,KAAM,CAAC+B,QAAQ,CAAEzB,YAAa,CAAC0B,IAAI,CAAC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACC,WAAW,CAAC,sBAAsB,CAAW,CAAC,cAClH1C,IAAA,WAAQ2C,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzC,CAAC,CACN3B,KAAK,eAAIV,IAAA,QAAK4C,GAAG,CAAElC,KAAM,CAACmC,GAAG,CAAC,WAAW,CAAE,CAAC,cAC7C7C,IAAA,WAAQ8C,OAAO,CAAEZ,UAAW,CAAAG,QAAA,CAAC,YAAU,CAAQ,CAAC,CAC/CzB,OAAO,eAAIZ,IAAA,MAAAqC,QAAA,CAAIzB,OAAO,CAAI,CAAC,EACzB,CAAC,CAEV,CAEA,cAAe,CAAAL,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}