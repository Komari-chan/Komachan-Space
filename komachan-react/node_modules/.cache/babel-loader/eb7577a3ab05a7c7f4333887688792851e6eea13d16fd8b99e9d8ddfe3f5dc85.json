{"ast":null,"code":"import React,{useState,useEffect}from'react';import{CSSTransition,TransitionGroup}from'react-transition-group';import'./BackgroundSwitcher.css';import{jsx as _jsx}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;const backgrounds=[\"\".concat(apiUrl,\"/static/assets/background1.jpg\"),\"\".concat(apiUrl,\"/static/assets/background2.jpg\"),\"\".concat(apiUrl,\"/static/assets/background3.jpg\")];function BackgroundSwitcher(){const[currentBackground,setCurrentBackground]=useState(0);useEffect(()=>{const interval=setInterval(()=>{setCurrentBackground(prevBackground=>(prevBackground+1)%backgrounds.length);},5000);// 每5秒切换一次背景\nreturn()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsx(TransitionGroup,{children:/*#__PURE__*/_jsx(CSSTransition,{timeout:1000,classNames:\"fade\",children:/*#__PURE__*/_jsx(\"div\",{className:\"background\",style:{backgroundImage:\"url(\".concat(backgrounds[currentBackground],\")\")}})},currentBackground)});}export default BackgroundSwitcher;","map":{"version":3,"names":["React","useState","useEffect","CSSTransition","TransitionGroup","jsx","_jsx","apiUrl","process","env","REACT_APP_API_URL","backgrounds","concat","BackgroundSwitcher","currentBackground","setCurrentBackground","interval","setInterval","prevBackground","length","clearInterval","children","timeout","classNames","className","style","backgroundImage"],"sources":["D:/komachan/komachan-react/src/components/BackgroundSwitcher.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport './BackgroundSwitcher.css';\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst backgrounds = [\r\n  `${apiUrl}/static/assets/background1.jpg`,\r\n  `${apiUrl}/static/assets/background2.jpg`,\r\n  `${apiUrl}/static/assets/background3.jpg`\r\n];\r\n\r\nfunction BackgroundSwitcher() {\r\n  const [currentBackground, setCurrentBackground] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentBackground((prevBackground) => (prevBackground + 1) % backgrounds.length);\r\n    }, 5000); // 每5秒切换一次背景\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <TransitionGroup>\r\n      <CSSTransition\r\n        key={currentBackground}\r\n        timeout={1000}\r\n        classNames=\"fade\"\r\n      >\r\n        <div\r\n          className=\"background\"\r\n          style={{ backgroundImage: `url(${backgrounds[currentBackground]})` }}\r\n        />\r\n      </CSSTransition>\r\n    </TransitionGroup>\r\n  );\r\n}\r\n\r\nexport default BackgroundSwitcher;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,eAAe,KAAQ,wBAAwB,CACvE,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE5C,KAAM,CAAAC,WAAW,CAAG,IAAAC,MAAA,CACfL,MAAM,sCAAAK,MAAA,CACNL,MAAM,sCAAAK,MAAA,CACNL,MAAM,mCACV,CAED,QAAS,CAAAM,kBAAkBA,CAAA,CAAG,CAC5B,KAAM,CAACC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAE7DC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjCF,oBAAoB,CAAEG,cAAc,EAAK,CAACA,cAAc,CAAG,CAAC,EAAIP,WAAW,CAACQ,MAAM,CAAC,CACrF,CAAC,CAAE,IAAI,CAAC,CAAE;AACV,MAAO,IAAMC,aAAa,CAACJ,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEV,IAAA,CAACF,eAAe,EAAAiB,QAAA,cACdf,IAAA,CAACH,aAAa,EAEZmB,OAAO,CAAE,IAAK,CACdC,UAAU,CAAC,MAAM,CAAAF,QAAA,cAEjBf,IAAA,QACEkB,SAAS,CAAC,YAAY,CACtBC,KAAK,CAAE,CAAEC,eAAe,QAAAd,MAAA,CAASD,WAAW,CAACG,iBAAiB,CAAC,KAAI,CAAE,CACtE,CAAC,EAPGA,iBAQQ,CAAC,CACD,CAAC,CAEtB,CAEA,cAAe,CAAAD,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}